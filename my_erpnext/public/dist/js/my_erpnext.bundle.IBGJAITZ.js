(()=>{function l(e){return new Promise(s=>setTimeout(s,e))}async function c(){await l(1e3);var e=frappe.get_list("Company");if(e.length>1){for(var s="",a=0;a<e.length;a++)s=s+"<option value="+e[a].name+">"+e[a].name+"</option>";var t="<select id='company-select' class='form-control' style='width: auto;'>"+s;$("form:first").after(t);var n=await frappe.call({method:"frappe.core.doctype.session_default_settings.session_default_settings.get_session_default_values"}),o=JSON.parse(n.message)[0].default;$("#company-select").val(o),$("#company-select").on("change",function(){frappe.call({method:"frappe.core.doctype.session_default_settings.session_default_settings.set_session_default_values",args:{default_values:{company:this.value,undefined:"",settings:""}},callback:function(r){r.message=="success"?(frappe.show_alert({message:__("Session Defaults Saved"),indicator:"green"}),frappe.ui.toolbar.clear_cache()):frappe.show_alert({message:__("An error occurred while setting Session Defaults"),indicator:"red"})}})})}}c();})();
//# sourceMappingURL=my_erpnext.bundle.IBGJAITZ.js.map
